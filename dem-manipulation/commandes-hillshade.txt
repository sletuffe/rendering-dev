# Take only a small part of the world for the tests
# Use -tr 30 30 for more accurate but 4 times bigger (800GB !) geotiff file
gdalwarp -tr 60 60 --config GDAL_NUM_THREADS ALL_CPUS --config GDAL_CACHEMAX 4000 -co NUM_THREADS=ALL_CPUS -co BIGTIFF=yes -co COMPRESS=ZSTD -co PREDICTOR=3 --co TILED=yes -te_srs EPSG:4326 -te 6.0 45.0 7.0 46.0 -t_srs EPSG:3857 -r cubic $input $output
or the whole world :
gdalwarp -tr 60 60 --config GDAL_NUM_THREADS ALL_CPUS --config GDAL_CACHEMAX 4000 -co NUM_THREADS=ALL_CPUS -co BIGTIFF=yes -co COMPRESS=ZSTD -co PREDICTOR=3 --co TILED=yes -t_srs EPSG:3857 -r cubic $input $output

# Removing the no data value (for qgis good display, and hillshading creation)
gdal_edit.py $output-hillshade -unsetnodata

# hillshade with 1.x exageration of elevation and jpeg compression
gdaldem hillshade -z 1.7 --config GDAL_NUM_THREADS ALL_CPUS --config GDAL_CACHEMAX 4000 -co NUM_THREADS=ALL_CPUS -co BIGTIFF=yes -co TILED=yes -co COMPRESS=jpeg $output $output-hillshade

# Create overviews
gdaladdo -r average $output-hillshade


